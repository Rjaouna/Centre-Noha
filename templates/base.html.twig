<!DOCTYPE html>
<html lang="fr">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">

		<title>
			{% block title %}Welcome!
			{% endblock %}
		</title>

		<link rel="stylesheet" href="{{ asset('assets/css/bootstrap.css') }}">
		<link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/dataTables.bootstrap5.min.css">
		<link rel="stylesheet" href="https://cdn.datatables.net/responsive/2.4.1/css/responsive.bootstrap5.min.css">
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">

		{% block stylesheets %}
			{{ encore_entry_link_tags('app') }}
		{% endblock %}
	</head>

	<body data-turbo="false" class="{% if app.request.attributes.get('_route') in ['app_home', 'app_login'] %}home-bg{% endif %}">

		{{ include('home/_notifications/_notifications.html.twig') }}

		{% if app.request.attributes.get('_route') != 'app_login' %}
			{{ include('partials/_navbar/_navbar.html.twig') }}
		{% endif %}

		{% for label, messages in app.flashes %}
			{% for message in messages %}
				<div class="alert alert-{{ label }} alert-dismissible fade show shadow-sm mt-3 mx-3">
					<strong>{{ message }}</strong>
					<button class="btn-close" data-bs-dismiss="alert"></button>
				</div>
			{% endfor %}
		{% endfor %}

		<div id="flashMessageContainer" class="position-fixed top-0 start-50 translate-middle-x mt-3" style="z-index:9999;width:400px;"></div>

		{{ include('_partials/_popup.html.twig') }}

		<div class="container-fluid pb-5 mb-5"> {% block body %}{% endblock %}
			</div>

			{# FOOTER PLACÉ À LA FIN — CORRECTION MAJEURE #}
			{{ include('partials/_footer/_footer.html.twig') }}

			 <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

			{% block javascripts %}
				{{ encore_entry_script_tags('app') }}
			{% endblock %}

		</body>
	</html>

