{% extends 'base.html.twig' %}

{% block title %}Connexion ‚Äì Centre Noha
{% endblock %}

{% block body %}

	<style>
		.login-card {
			max-width: 900px;
			width: 100%;
			border-radius: 1.5rem;
			overflow: hidden;
		}

		.login-left {
			padding: 2.5rem;
			background: #ffffff;
		}

		.admin-box {
			display: none;
			border-left: 4px solid #0d6efd;
			background: #f1f7ff;
			padding: 15px;
			border-radius: 0.5rem;
		}

		.admin-link {
			cursor: pointer;
		}

		/* Style flottant plus doux */
		.form-floating > .form-control {
			border-radius: 0.75rem !important;
			padding-top: 1.3rem !important;
			padding-bottom: 0.5rem !important;
		}

		.form-floating label {
			padding-left: 0.75rem;
		}

		/* Responsive */
		@media(max-width: 768px) {
			.login-left {
				padding: 1.5rem;
			}
			.login-card {
				border-radius: 1rem;
			}
			.login-right {
				display: none !important;
			}
		}
	</style>

	<div class="container d-flex justify-content-center align-items-center" style="min-height: 90vh;">
<div class="shadow-lg login-card">


			<div
				class="row g-0">

				<!-- LEFT : FORM -->
				<div class="col-md-6 login-left">

					<h2 class="text-primary fw-bold mb-4 d-flex align-items-center">
						<i class="bi bi-person-circle me-2"></i>
						Connexion
					</h2>
					{% if error %}
						<div class="alert alert-danger shadow-sm">
							<i class="bi bi-exclamation-triangle"></i>
							Identifiants incorrects
						</div>
					{% endif %}

					{{ form_start(form, { attr: { class: 'mb-3' } }) }}

					<!-- EMAIL -->
					<div class="form-floating mb-3">
						{{ form_widget(form.email, {
						attr: { 
							class: 'form-control rounded-3',
							placeholder: 'Adresse e-mail'
						}
					}) }}
						<label for="{{ form.email.vars.id }}">Adresse e-mail</label>
					</div>

					<!-- PASSWORD -->
					<div class="form-floating mb-3">
						{{ form_widget(form.password, {
						attr: { 
							class: 'form-control rounded-3',
							placeholder: 'Mot de passe'
						}
					}) }}
						<label for="{{ form.password.vars.id }}">Mot de passe</label>
					</div>

					{{ form_widget(form._csrf_token) }}

					<button class="btn btn-primary w-100 rounded-pill py-2 fw-semibold shadow-sm">
						<i class="bi bi-box-arrow-in-right"></i>
						Se connecter
					</button>

					{{ form_end(form) }}

					<!-- Admin -->
					<p class="text-muted small admin-link mt-3">
						<i class="bi bi-info-circle"></i>
						Vous n‚Äôavez pas de compte ?
						<span class="text-primary fw-semibold">Contacter l‚Äôadministrateur</span>
					</p>

					<div id="adminInfo" class="admin-box mt-2">
						<p class="small mb-1">
							<i class="bi bi-person-badge-fill text-primary"></i>
							<strong>Administrateur :</strong>
							We Digit All
						</p>
						<p class="small mb-1">
							<i class="bi bi-telephone-fill text-primary"></i>
							+33 6 59 22 10 04
						</p>
						<p class="small mb-0">
							<i class="bi bi-envelope-fill text-primary"></i>
							contact@wedigitall.com
						</p>
					</div>

					<p class="text-center text-muted small mt-4">
						üîê Acc√®s r√©serv√© au personnel autoris√© du Centre Noha.
					</p>
				</div>

				<!-- RIGHT IMAGE -->
<div class="col-md-6 login-right d-none d-md-flex bg-white justify-content-center align-items-center">
<img src="{{ asset('assets/img/3736765.jpg') }}" class="img-fluid p-3" style="width: 80%;"/>

				</div>

			</div>
		</div>
	</div>

	 <script>
	document.querySelector('.admin-link').addEventListener('click', () => {
		const box = document.getElementById('adminInfo');
		box.style.display = box.style.display === 'block' ? 'none' : 'block';
	});
	</script>

{% endblock %}

