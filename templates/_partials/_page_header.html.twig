{# templates/_partials/_page_header.html.twig #}

<div class="card shadow-lg border-0 rounded-4 mb-4">
<div class="card-body px-4 py-2">



		<div
			class="d-flex flex-column flex-lg-row justify-content-between align-items-lg-center gap-3">

			{# TITRE #}
<div class="d-flex">


				{% if icon is defined and icon %}
					<i class="{{ icon }} text-primary fs-1 me-3"></i>
				{% endif %}

				<div>
					<h2 class="fw-bold text-primary mb-0">
						{{ title|default('') }}
					</h2>

{% if subtitle is defined and subtitle %}
	<small class="text-muted">{{ subtitle }}</small>
{% endif %}

{% block header_subtitle %}{% endblock %}


				</div>
			</div>

			{# ACTIONS #}
			<div
class="d-flex justify-content-between align-items-center  w-lg-auto justify-content-lg-end gap-lg-3">


				{# Groupe métier (gauche mobile) #}
				<div class="d-flex align-items-center gap-3 order-1 order-lg-1"> {% block header_actions_left %}{% endblock %}
					</div>

					{# Groupe navigation (droite mobile) #}
					<div class="d-flex align-items-center gap-3 ms-auto ms-lg-0 order-2 order-lg-2">

						{% block header_actions_right %}
							{# par défaut : home + retour #}
							<a href="{{ path('app_home') }}" class="action-icon bg-light text-dark" data-bs-toggle="tooltip" title="Accueil">
								<i class="bi bi-house"></i>
							</a>

							<a href="javascript:void(0);" onclick="history.back()" class="action-icon bg-light" data-bs-toggle="tooltip" title="Retour">
								<i class="bi bi-arrow-left"></i>
							</a>
						{% endblock %}
					</div>

				</div>

			</div>

		</div>
	</div>

<style>
/* ===== Page header actions : UX premium ===== */
.action-icon{
  --size: 46px;
  width: var(--size);
  height: var(--size);
  border-radius: 14px;

  display:inline-flex;
  align-items:center;
  justify-content:center;

  text-decoration:none;
  cursor:pointer;

  border: 1px solid rgba(0,0,0,.06);
  background: rgba(255,255,255,.85);

  box-shadow: 0 12px 28px rgba(0,0,0,.08);
  transition: transform .12s ease, box-shadow .18s ease, filter .18s ease, border-color .18s ease;
  backdrop-filter: blur(10px);
}

.action-icon i{
  font-size: 1.1rem;
  opacity: .92;
  transition: transform .12s ease, opacity .18s ease;
}

/* hover */
.action-icon:hover{
  transform: translateY(-1px);
  box-shadow: 0 16px 36px rgba(0,0,0,.10);
  border-color: rgba(13,110,253,.14);
  filter: brightness(1.02);
}
.action-icon:hover i{
  transform: scale(1.06);
  opacity: 1;
}

/* active */
.action-icon:active{
  transform: translateY(0);
  box-shadow: 0 10px 22px rgba(0,0,0,.07);
}

/* focus (accessibilité) */
.action-icon:focus,
.action-icon:focus-visible{
  outline: none;
  box-shadow: 0 0 0 .22rem rgba(99,102,241,.22), 0 12px 28px rgba(0,0,0,.08);
  border-color: rgba(99,102,241,.28);
}

/* ===== Couleurs par "bg-*" sans casser Bootstrap ===== */
/* Bouton principal (ex: bg-primary) -> gradient premium */
.action-icon.bg-primary{
  border: 0;
  color: #fff !important;
  background: linear-gradient(90deg, rgba(13,110,253,1) 0%, rgba(99,102,241,1) 100%) !important;
  box-shadow: 0 14px 34px rgba(13,110,253,.22);
}

/* Bouton light */
.action-icon.bg-light{
  background: rgba(255,255,255,.92) !important;
}

/* Si tu mets bg-light text-dark, on garde bien le contraste */
.action-icon.bg-light.text-dark i{
  color: rgba(0,0,0,.80);
}

/* Petite séparation visuelle quand il y a plusieurs icônes */
.header-actions-divider{
  width: 1px;
  height: 28px;
  background: rgba(0,0,0,.08);
  border-radius: 999px;
}
</style>